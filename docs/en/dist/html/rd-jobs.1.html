<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>RUNDECK(1) RunDeck User Manuals | Version 1.0</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Greg Schueler" />
  <meta name="author" content="Alex Honor" />
  <meta name="date" content="November 20, 2010" />
</head>
<body>
<h1 class="title">RUNDECK(1) RunDeck User Manuals | Version 1.0</h1>
<h1 id="name"
>NAME</h1
><p
>rd-jobs - List or load jobs to the RunDeck server</p
><h1 id="synopsis"
>SYNOPSIS</h1
><p
>dispatch [<em
  >action</em
  >] [<em
  >action options</em
  >]...</p
><h1 id="description"
>DESCRIPTION</h1
><p
>The dispatch command is used to remotely execute ad-hoc shell commands on a set of nodes which are specified by the filter options.</p
><p
>The rd-jobs command lists Jobs stored on the server and optionally downloads them as XML, or uploads Job XML to the server from a file.</p
><p
>The tool works in one of two <em
  >ACTION</em
  > modes:</p
><ul
><li
  ><p
    >list : list the stored Jobs on the server (default action)</p
    ></li
  ><li
  ><p
    >load : upload XML job definitions up to the server</p
    ></li
  ></ul
><h1 id="options"
>OPTIONS</h1
><p
>-h, --help : Print usage message.</p
><p
>-v : Run verbosely.</p
><h2 id="list-action-options"
>LIST ACTION OPTIONS</h2
><p
>-g, --group <em
  >GROUP</em
  > : Group name. List jobs within this group or sub-group</p
><p
>-i, --idlist <em
  >ID</em
  > : Job ID List. List Jobs with these IDs explicitly. Comma-separated, e.g.: 1,2,3.</p
><p
>-n, --name <em
  >NAME</em
  > : Job Name. List jobs matching this name.</p
><p
>-p, --project <em
  >PROJECT</em
  > : Project name. List jobs within this project.</p
><p
>-f, --file <em
  >FILE</em
  > : File path. For list action, path to store the job definitions found in XML.</p
><h1 id="load-action-options"
>LOAD ACTION OPTIONS</h1
><p
>-d, --duplicate <em
  >update|skip|create</em
  > : Duplicate job behavior option. When loading jobs, treat definitions that already exist on the server in the given manner: 'update' existing jobs,'skip' the uploaded definitions, or 'create' them anyway. (load action. default: update)</p
><p
>-f, --file <em
  >FILE</em
  > : File path. For load action, path to an XML FILE to upload.</p
><h1 id="list-action"
>LIST ACTION</h1
><p
>The List action queries the server for a list of matching jobs, and displays the result list. Optionally the definitions of the matching jobs can be stored in a file if <code
  >-f</code
  > is specified.</p
><p
>The jobs can be specifed explicitly by ID using the <code
  >-i/--idlist</code
  > option. Otherwise they are searched using the options as filter criteria, and all matching Jobs are returned.</p
><p
>If no options to the list action are supplied, then all Jobs on the server are returned.</p
><p
><em
  >Examples</em
  ></p
><p
>List all jobs on the server:</p
><pre
><code
  >rd-jobs
</code
  ></pre
><p
>List only a single job by ID:</p
><pre
><code
  >rd-jobs -i 123
</code
  ></pre
><p
>List a set of jobs by ID and store them in a file:</p
><pre
><code
  >rd-jobs -i 1,23,4 --file out.xml
</code
  ></pre
><p
>List all jobs in the project &quot;demo&quot;</p
><pre
><code
  >rd-jobs -p demo
</code
  ></pre
><p
>Output from the command will list the job name, ID number in brackets, and the URL to view the Job in the server.</p
><pre
><code
  >Found 5 jobs:
   1: Build all [38] &lt;http://localhost:8080/rundeck/scheduledExecution/show/38&gt;
   2: Build and Update Server0 [31] &lt;http://localhost:8080/rundeck/scheduledExecution/show/31&gt;
   3: Build and Update Server1 [17] &lt;http://localhost:8080/rundeck/scheduledExecution/show/17&gt;
   4: Build and Update Server2 [45] &lt;http://localhost:8080/rundeck/scheduledExecution/show/45&gt;
   5: Deploy Server4 [46] &lt;http://localhost:8080/rundeck/scheduledExecution/show/46&gt;
</code
  ></pre
><h1 id="load-action"
>LOAD ACTION</h1
><p
>The Load action uploads the specified file to the server, and the list of loaded jobs are displayed. If any Jobs cannot be stored (e.g. the user is unauthorized to run a certain command), the list of unsuccessfully created jobs are also displayed.</p
><p
>The <code
  >-d,\--duplicate</code
  > option lets you specify what should happen if any of the Job definitions have the same Name and Group of an existing Job on the server. The default option is &quot;update&quot;, which means to overwrite the existing definitions with the new version. &quot;skip&quot; means to ignore the uploaded definition. &quot;create&quot; means to create a new Job with the uploaded definition (hence making the Group+Name non-unique).</p
><p
><em
  >Examples</em
  ></p
><p
>Load a file to the server:</p
><pre
><code
  >rd-jobs load -f jobs.xml
</code
  ></pre
><p
>Output:</p
><pre
><code
  >Total Jobs Uploaded: 2 jobs
Succeeded creating/updating 2  Jobs:
   1: Build and Update Server2 [45] &lt;http://localhost:8080/rundeck/scheduledExecution/show/45&gt;
   2: Deploy Server4 [46] &lt;http://localhost:8080/rundeck/scheduledExecution/show/46&gt;
</code
  ></pre
><p
>If a Job was not successfully created, you will see it mentioned along with a message about why it failed. The number next to the Job name indicates the index of the definition in the uploaded XML:</p
><pre
><code
  >rd-jobs load -f jobs.xml
</code
  ></pre
><p
>Output:</p
><pre
><code
  >Total Jobs Uploaded: 3 jobs
Failed to add 1 Jobs:
   3: Build Server1 : Project was not found: north
Project was not found: north
Succeeded creating/updating 2  Jobs:
   1: Build and Update Server2 [45] &lt;http://localhost:8080/rundeck/scheduledExecution/show/45&gt;
   2: Deploy Server4 [46] &lt;http://localhost:8080/rundeck/scheduledExecution/show/46&gt;
</code
  ></pre
><p
>If the -d skip is specified, then any jobs definitions that were skipped will be listed:</p
><pre
><code
  >rd-jobs load -f jobs.xml -d skip
</code
  ></pre
><p
>Output:</p
><pre
><code
  >Total Jobs Uploaded: 2 jobs
Skipped 2 Jobs:
   1: Build and Update Server2 [45] &lt;http://localhost:8080/rundeck/scheduledExecution/show/45&gt;
   2: Deploy Server4 [46] &lt;http://localhost:8080/rundeck/scheduledExecution/show/46&gt;
</code
  ></pre
><h1 id="see-also"
>SEE ALSO</h1
><p
><code
  >run</code
  > (1).</p
><p
>The RunDeck source code and all documentation may be downloaded from <a href="https://github.com/dtolabs/rundeck/"
  ><code
    >https://github.com/dtolabs/rundeck/</code
    ></a
  >.</p
>
</body>
</html>
